[env:esp32cam]
platform = espressif32
board = esp32cam
framework = arduino
board_build.partitions = partitions_ota.csv

; Ottimizzazioni per ridurre dimensione firmware e aumentare stack
build_flags =
    -DCORE_DEBUG_LEVEL=0
    -Os

; Librerie necessarie (BLE + LED)
lib_deps =
    fastled/FastLED@^3.7.0
    bblanchon/ArduinoJson@^7.0.0  ; JSON per payload BLE

; Configurazione OTA (commentata - prima upload USB)
; upload_protocol = espota
; upload_port = 192.168.1.91
; upload_flags =
;     --port=3232
;     --auth=admin
;     --timeout=60

; --- Opzioni di Upload USB (ATTIVE) ---
upload_protocol = esptool
upload_port = /dev/ttyUSB0
upload_speed = 921600

; --- Opzioni Monitor Seriale ---
monitor_port = /dev/ttyUSB0
monitor_speed = 115200
monitor_dtr = 0
monitor_rts = 0
